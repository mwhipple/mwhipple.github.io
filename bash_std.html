<pre>

  ##
  # Provide some stanard functionality that is generally useful in bash.
  # These are stolen from the GNU bootstrap script
  ##

  ##
  # Record the name by which this process was invoked.
  ##
  declare -r std__me="${0}"

  ##
  # Emit the format string and any following arguments to stderr.
  # This prefixes each line of a multi-line message with the script name.
  ##
  std::warnf_ () {
  	warnf_format_=${1}
  	shift
  	nl='
  '
  	case ${*} in
  	*${nl}*) me_=$(printf "${std__me}"|tr "${nl}|" '??')
  		printf "${warnf_format_}" "${@}" | sed "s|^|${me_}: |" ;;
  	*) printf "${std__me}: ${warnf_format_}" "${@}" ;;
  	esac >&2
  }

  ##
  # Emit the arguments to stderr, sanitizing IFS as necessary.
  ##
  std::warn_ () {
  	case ${IFS} in
  	' '*) std::warnf_ '%s\n' "${*}";;
  	*)    (IFS=' '; std::warn_ "${@}");;
  	esac
  }

  ##
  # Emit the arguments to stderr and exit process with error.
  ##
  std::die() {
  	std::warn_ "${@}"
  	exit 1
  }
</pre>
